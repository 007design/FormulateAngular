/**
 * AngularUI - The companion suite for AngularJS
 * @version v0.1.0 - 2012-07-20
 * @link http://angular-ui.github.com
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
angular.module("ui.config",[]).value("ui.config",{}),angular.module("ui.filters",["ui.config"]),angular.module("ui.directives",["ui.config"]),angular.module("ui",["ui.filters","ui.directives","ui.config"]),angular.module("ui.directives").directive("uiCodemirror",["ui.config","$parse",function(a,b){return"use strict",a.codemirror=a.codemirror||{},{require:"ngModel",link:function(c,d,e,f){if(!d.is("textarea"))throw new Error("ui-codemirror can only be applied to a textarea element");var g,h=b(e.uiCodemirror),i=function(a){var b=a.getValue();b!==f.$viewValue&&(f.$setViewValue(b),c.$apply())},j=function(b){b=angular.extend({},b,a.codemirror);var c=b.onChange;c?b.onChange=function(a){i(a),c(a)}:b.onChange=i,g&&g.toTextArea(),g=CodeMirror.fromTextArea(d[0],b)};j(h()),c.$watch(h,j,!0),f.$formatters.push(function(a){if(angular.isUndefined(a)||a===null)return"";if(angular.isObject(a)||angular.isArray(a))throw new Error("ui-codemirror cannot use an object or an array as a model");return a}),f.$render=function(){g.setValue(f.$viewValue)}}}}]),angular.module("ui.directives").directive("uiCurrency",["ui.config","currencyFilter",function(a,b){var c={pos:"ui-currency-pos",neg:"ui-currency-neg",zero:"ui-currency-zero"};return a.currency&&angular.extend(c,a.currency),{restrict:"EAC",require:"?ngModel",link:function(a,d,e,f){var g,h,i;g=angular.extend({},c,a.$eval(e.uiCurrency)),h=function(a){var c;return c=a*1,c>0?d.addClass(g.pos):d.removeClass(g.pos),c<0?d.addClass(g.neg):d.removeClass(g.neg),c===0?d.addClass(g.zero):d.removeClass(g.zero),a===""?d.text(""):d.text(b(c,g.symbol)),!0},i="",f!=null?f.$render=function(){i=f.$viewValue,d.val(i),h(i)}:(e.num!=null&&(i=a[e.num]),h(i))}}}]),angular.module("ui.directives").directive("uiDate",["ui.config",function(a){var b;return b={},a.date!=null&&angular.extend(b,a.date),{require:"?ngModel",link:function(a,c,d,e){var f,g,h;return f=angular.extend({},b,a.$eval(d.uiDate)),e!=null&&(g=function(b,d){return a.$apply(function(){return e.$setViewValue(c.datepicker("getDate"))})},f.onSelect!=null?(h=f.onSelect,f.onSelect=function(a,b){return g(a),h(a,b)}):f.onSelect=g,e.$render=function(){return c.datepicker("setDate",e.$viewValue)}),c.datepicker(f)}}}]),angular.module("ui.directives").directive("uiEvent",["$parse",function(a){return function(b,c,d){var e=b.$eval(d.uiEvent);angular.forEach(e,function(d,e){var f=a(d);c.bind(e,function(a){b.$apply(function(){f(b,{$event:a})})})})}}]),angular.module("ui.directives").directive("uiJq",["ui.config",function(a){var b={};return{link:function(c,d,e){if(!d[e.uiJq])throw new Error('ui-jq: The "'+e.uiJq+'" function does not exist');var f;a.jq&&a.jq[e.uiJq]&&(angular.isObject(b)&&angular.isObject(a.jq[e.uiJq])?angular.extend(b,a.jq[e.uiJq]):b=a.jq[e.uiJq]),e.uiOptions&&(f=c.$eval("["+e.uiOptions+"]"),angular.isObject(b)&&angular.isObject(f[0])&&(f[0]=angular.extend(b,f[0]))),d[e.uiJq].apply(d,f)}}}]),angular.module("ui.directives").directive("uiKeypress",["$parse",function(a){return{link:function(b,c,d){var e={8:"backspace",9:"tab",13:"enter",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete"},f,g,h,i,j=[];try{f=b.$eval(d.uiKeypress),g=!0}catch(k){f=d.uiKeypress.split(/\s+and\s+/i),g=!1}angular.forEach(f,function(b,c){var d={};g?(d.expression=a(b),d.keys=c):(b=b.split(/\s+on\s+/i),d.expression=a(b[0]),d.keys=b[1]),d.keys=d.keys.split("-"),j.push(d)}),c.bind("keydown",function(a){var c=a.metaKey||a.altKey,d=a.ctrlKey,f=a.shiftKey;angular.forEach(j,function(g){var h=g.keys.indexOf(e[a.keyCode])>-1||g.keys.indexOf(a.keyCode.toString())>-1,i=g.keys.indexOf("alt")>-1,j=g.keys.indexOf("ctrl")>-1,k=g.keys.indexOf("shift")>-1;h&&i==c&&j==d&&k==f&&b.$apply(function(){g.expression(b,{$event:a})})})})}}}]),function(){function b(a,b,c,d){angular.forEach(b.split(" "),function(b){var e={type:"map-"+b};google.maps.event.addListener(c,b,function(b){d.trigger(angular.extend({},e,b)),a.$$phase||a.$apply()})})}function c(c,d){a.directive(c,[function(){return{restrict:"A",link:function(a,e,f){a.$watch(f[c],function(c){b(a,d,c,e)})}}}])}var a=angular.module("ui.directives");a.directive("uiMap",["ui.config","$parse",function(a,c){var d="bounds_changed center_changed click dblclick drag dragend dragstart heading_changed idle maptypeid_changed mousemove mouseout mouseover projection_changed resize rightclick tilesloaded tilt_changed zoom_changed",e=a.map||{};return{restrict:"A",link:function(a,f,g){var h=angular.extend({},e,a.$eval(g.uiOptions)),i=new google.maps.Map(f[0],h),j=c(g.uiMap);j.assign(a,i),b(a,d,i,f)}}}]),a.directive("uiMapInfoWindow",["ui.config","$parse","$compile",function(a,c,d){var e="closeclick content_change domready position_changed zindex_changed",f=a.mapInfoWindow||{};return{link:function(a,g,h){var i=angular.extend({},f,a.$eval(h.uiOptions));i.content=g[0];var j=c(h.uiMapInfoWindow),k=j(a);k||(k=new google.maps.InfoWindow(i),j.assign(a,k)),b(a,e,k,g),g.replaceWith("<div></div>");var l=k.open;k.open=function(b,c,e,f,h,i){d(g.contents())(a),l.call(k,b,c,e,f,h,i)}}}}]),c("uiMapMarker","animation_changed click clickable_changed cursor_changed dblclick drag dragend draggable_changed dragstart flat_changed icon_changed mousedown mouseout mouseover mouseup position_changed rightclick shadow_changed shape_changed title_changed visible_changed zindex_changed"),c("uiMapPolyline","click dblclick mousedown mousemove mouseout mouseover mouseup rightclick"),c("uiMapPolygon","click dblclick mousedown mousemove mouseout mouseover mouseup rightclick"),c("uiMapRectangle","bounds_changed click dblclick mousedown mousemove mouseout mouseover mouseup rightclick"),c("uiMapCircle","center_changed click dblclick mousedown mousemove mouseout mouseover mouseup radius_changed rightclick"),c("uiMapGroundOverlay","click dblclick")}(),angular.module("ui.directives").directive("uiMask",[function(){return{require:"ngModel",scope:{uiMask:"="},link:function(a,b,c,d){return d.$render=function(){var c;return c=d.$viewValue||"",b.val(c),b.mask(a.uiMask)},d.$parsers.push(function(a){var c;return c=b.data("mask-isvalid"),d.$setValidity("mask",c),b.mask()}),b.bind("keyup",function(){return a.$apply(function(){return d.$setViewValue(b.mask())})})}}}]),angular.module("ui.directives").directive("uiModal",["$timeout",function(a){return{require:"ngModel",link:function(b,c,d,e){c.addClass("modal hide"),b.$watch(d.ngModel,function(a){c.modal(a&&"show"||"hide")}),c.on("show.ui",function(){a(function(){e.$setViewValue(!0)})}),c.on("hide.ui",function(){a(function(){e.$setViewValue(!1)})})}}}]),angular.module("ui.directives").directive("uiRemove",[function(){return{link:function(a,b,c){var d=b.parent(),e=c.uiRemove;b.data("ui-remove-index",b.index()),a.$watch(e,function(a,c){var e,f,g;if(a)b.detach();else if(!$.contains(d,b)){e=b.data("ui-remove-index"),f=b.parent().children();if(f.length>0)for(var h=0;h<f.length;h++)g=f[h],e>g.index()&&h===f.length-1?g.after(b):g.before(b);else d.append(b)}})}}}]),angular.module("ui.directives").directive("uiReset",["$parse",function(a){return function(b,c,d){if(!d.ngModel)throw Error("ui-reset depends on ng-model");c.wrap('<span class="ui-resetwrap" />').after('<a class="ui-reset" />').next().click(function(c){c.preventDefault();var e=a(d.ngModel);e.assign(b,null),b.$apply()})}}]),angular.module("ui.directives").directive("uiScrollfix",[function(){return{link:function(a,b,c){var d=b.offset().top;c.uiScrollfix?c.uiScrollfix.indexOf("-")===0?c.uiScrollfix=d-c.uiScrollfix.substr(1):c.uiScrollfix.indexOf("+")===0&&(c.uiScrollfix=d+parseInt(c.uiScrollfix.substr(1))):c.uiScrollfix=d,$(window).bind("scroll.ui-scrollfix",function(){!b.hasClass("ui-scrollfix")&&window.pageYOffset>c.uiScrollfix?b.addClass("ui-scrollfix"):b.hasClass("ui-scrollfix")&&window.pageYOffset<c.uiScrollfix&&b.removeClass("ui-scrollfix")})}}}]),angular.module("ui.directives").directive("uiSelect2",["ui.config","$http",function(a,b){var c={};return a.select2&&angular.extend(c,a.select2),{require:"?ngModel",compile:function(a,b){var d,e,f=a.is("select"),g=b.multiple!==undefined;return a.is("select")&&(e=a.find("option[ng-repeat]"),e.length&&(d=e.attr("ng-repeat").split(" ").pop())),function(a,b,e,g){var h=angular.extend({},c,a.$eval(e.uiSelect2));f&&(delete h.multiple,delete h.initSelection);if(g){g.$render=function(c){f?b.select2("val",a.$eval(e.ngModel)):b.select2("data",a.$eval(e.ngModel))},d&&a.$watch(d,function(a,c,d){if(!a)return;setTimeout(function(){b.select2("val",g.$viewValue),b.trigger("change")})});if(!f){b.bind("change",function(){a.$apply(function(){g.$setViewValue(b.select2("data"))})});if(h.initSelection){var i=h.initSelection;h.initSelection=function(a,b){i(a,function(a){g.$setViewValue(a),b(a)})}}}}e.$observe("disabled",function(a){b.select2(a&&"disable"||"enable")}),b.val(a.$eval(e.ngModel)),setTimeout(function(){b.select2(h)})}}}}]),angular.module("ui.directives").directive("uiShow",[function(){return function(a,b,c){a.$watch(c.uiShow,function(a,c){a?b.addClass("ui-show"):b.removeClass("ui-show")})}}]).directive("uiHide",[function(){return function(a,b,c){a.$watch(c.uiHide,function(a,c){a?b.addClass("ui-hide"):b.removeClass("ui-hide")})}}]).directive("uiToggle",[function(){return function(a,b,c){a.$watch(c.uiToggle,function(a,c){a?b.removeClass("ui-hide").addClass("ui-show"):b.removeClass("ui-show").addClass("ui-hide")})}}]),angular.module("ui.directives").directive("uiTinymce",["ui.config",function(a){return a.tinymce=a.tinymce||{},{require:"ngModel",link:function(b,c,d,e){var f,g={onchange_callback:function(a){a.isDirty()&&(a.save(),e.$setViewValue(c.val()),b.$apply())},handle_event_callback:function(a){return this.isDirty()&&(this.save(),e.$setViewValue(c.val()),b.$apply()),!0},setup:function(a){a.onSetContent.add(function(a,d){a.isDirty()&&(a.save(),e.$setViewValue(c.val()),b.$apply())})}};d.uiTinymce?f=b.$eval(d.uiTinymce):f={},angular.extend(g,a.tinymce,f),setTimeout(function(){c.tinymce(g)})}}}]),angular.module("ui.filters").filter("highlight",function(){return function(a,b){return b===undefined?a:a.replace(new RegExp(b,"gi"),'<span class="ui-match">$&</span>')}}),angular.module("ui.filters").filter("length",function(){return function(a){var b=0;if(typeof a.length=="undefined"){for(key in a)b++;return b}return a.length}}),angular.module("ui.filters").filter("prettify",function(){return function(a){return a.replace(/(?:_| |\b)(\w)/g,function(a,b){return b.toUpperCase()}).replace(/([a-z])([A-Z])/g,"$1 $2").replace(/\b([A-Z]+)([A-Z])([a-z])/,"$1 $2$3")}}),angular.module("ui.filters").filter("unique",function(){return function(a,b){if(b&&angular.isArray(a)){var c={},d=[];angular.forEach(a,function(a,b){var e;angular.isString(b)?e=a[b]:e=a,c[e]===undefined&&(c[e]=!0,d.push(a))}),a=d}return a}});